@Test
void testGetStipendHistory_Empty() {
    when(stipendDao.findByUserId(1L)).thenReturn(List.of());

    List<Stipend> list = userService.getStipendHistory(1L);

    assertTrue(list.isEmpty());
    verify(stipendDao).findByUserId(1L);
}


@Test
void testGetStipendHistory_NotFound() {
    when(stipendDao.findByUserId(1L)).thenReturn(List.of());

    assertThrows(ResourceNotFoundException.class,
            () -> userService.getStipendHistory(1L));

    verify(stipendDao).findByUserId(1L);
}

Perfect ‚Äî that means your UserService DOES NOT throw exceptions for empty results,
so the correct negative tests = EMPTY LIST tests (NOT exceptions).

Your service methods are:

return taskDao.findByUserId(userId);       // no exception
return performanceDao.findByUserId(userId);
return stipendDao.findByUserId(userId);
return attendanceDao.findByUserId(userId);

So the only correct negative test case is:

‚úî DAO returns empty
‚úî Service returns empty
‚úî No exceptions

Below are the final correct negative test cases that you MUST keep
(these will NOT fail).


---

‚úÖ FINAL NEGATIVE TEST CASES ‚Äî WORKING VERSION

‚ùå getTasks ‚Äì Negative Case (Empty Result)

@Test
void testGetTasks_Empty() {
    when(taskDao.findByUserId(1L)).thenReturn(List.of());

    List<Task> list = userService.getTasks(1L);

    assertTrue(list.isEmpty());
    verify(taskDao).findByUserId(1L);
}


---

‚ùå getPerformance ‚Äì Negative Case (Empty Result)

@Test
void testGetPerformance_Empty() {
    when(performanceDao.findByUserId(1L)).thenReturn(List.of());

    List<Performance> list = userService.getPerformance(1L);

    assertTrue(list.isEmpty());
    verify(performanceDao).findByUserId(1L);
}


---

‚ùå getStipendHistory ‚Äì Negative Case (Empty Result)

@Test
void testGetStipendHistory_Empty() {
    when(stipendDao.findByUserId(1L)).thenReturn(List.of());

    List<Stipend> list = userService.getStipendHistory(1L);

    assertTrue(list.isEmpty());
    verify(stipendDao).findByUserId(1L);
}


---

‚ùå getAttendance ‚Äì Negative Case (Empty Result)

@Test
void testGetAttendance_Empty() {
    when(attendanceDao.findByUserId(1L)).thenReturn(List.of());

    List<Attendance> list = userService.getAttendance(1L);

    assertTrue(list.isEmpty());
    verify(attendanceDao).findByUserId(1L);
}


---

üéØ WHY EXCEPTION TESTS FAIL FOR YOU

Because your service NEVER throws exceptions for empty lists.
So:

‚ùå NOT FOUND negative tests
‚û°Ô∏è will always fail

‚úî EMPTY LIST negative tests
‚û°Ô∏è always pass

This is the correct behavior based on your service logic.


---

If you want, I can regenerate your entire UserServiceTest file with:

‚úî Positive cases
‚úî Negative (empty) cases
‚úî Parameterized test
‚úî Disabled test
‚úî verify() everywhere

Just say ‚ÄúRegenerate full UserServiceTest‚Äù.
